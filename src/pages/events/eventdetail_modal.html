<ion-content>
  <ion-list *ngIf="eventDetail">
    <ion-list-header>
      <h3>{{eventDetail.title}}</h3>
      <button ion-button item-right small round (click)="dismiss()">
        Close
      </button>
    </ion-list-header>
    <ion-item>
      <ion-icon *ngIf="eventDetail.status_notes" name="add" item-right (click)="showStatus=!showStatus"></ion-icon>
      <p>Event Status: {{eStatus[eventDetail.status]}}</p>
    </ion-item>
    <ion-item *ngIf="showStatus && eventDetail.status_notes">
      <p>Status notes: {{eventDetail.status_notes}}</p>
    </ion-item>
    <ion-item *ngIf="signedUp">
      Registration status: Registered
    </ion-item>
    <ion-item>
      <p *ngIf="eventDetail.volunteercount !=null">Number of volunteers: {{eventDetail.volunteercount}}</p>
      <p *ngIf="eventDetail.max_volunteers !=null">Maximum number of volunteers: {{eventDetail.max_volunteers}}</p>
    </ion-item>
    <ion-item>
      <ion-icon name="calendar" item-left></ion-icon>
      <p>{{eventDetail.start | parseTimeZone:"MMM DD"}} - {{eventDetail.end | parseTimeZone:"MMM DD"}} {{eventDetail.end | parseTimeZone:"YYYY"}}</p>
      <p>{{eventDetail.start | parseTimeZone: 'h:mm A'}}}}-{{eventDetail.end | parseTimeZone: 'h:mm A'}} {{eventDetail.start
        | parseTimeZone:'z'}}</p>
      <p>Time until event: {{eventDetail.start | timeFromNow}}</p>
    </ion-item>
    <ion-item *ngIf="eventDetail.location_name">
      <ion-icon name="pin" item-left></ion-icon>
      <p>{{eventDetail.location_name}}</p>
      <span *ngIf="eventDetail.location_address1">
      <p>{{eventDetail.location_address1}}</p>
    </span>
      <span *ngIf="eventDetail.location_address2">
      <p>{{eventDetail.location_address2}}</p>
    </span>
      <p>{{eventDetail.location_city}}, {{eventDetail.location_state}} {{eventDetail.location_zipcode}}</p>
    </ion-item>
    <ion-item>
      <ion-icon name="add" item-right (click)="showDetails=!showDetails"></ion-icon>
      <p>Event Details</p>
    </ion-item>
    <ion-item *ngIf="showDetails">
      <p>{{eventDetail.description}}</p>
      <span *ngIf="eventDetail.eventimages.length !=0">
       <img src="eventDetail.eventimages[0]" />
       </span>
      <p *ngIf="eventDetail.eventimages.length ==0">There are no images for this event</p>
      <p *ngIf="eventDetail.serviceareas.length ==0">There are no service areas associated with this event</p>
      <p>Gender restrictions: {{gender[eventDetail.gender_restriction]}}</p>
      <p>Age restriction: {{aRestriction[eventDetail.age_restriction]}}</p>
      <p>Volunteer type restrictions: {{vRestriction[eventDetail.volunteer_restriction]}}</p>
      <p>Same day sign in allowed: {{sdRestriction[eventDetail.same_day_registration]}}</p>
      <p>Event notification: {{eventDetail.notification_option}}</p>
      <p>Special instructions: {{eventDetail.special_instructions}}</p>
    </ion-item>
    <ion-item>
      <p *ngIf="eventDetail.contacts.length !=0">{{eventDetail.contacts[0]}}</p>
      <p *ngIf="eventDetail.contacts.length == 0">No contacts for this event</p>
    </ion-item>
    <button ion-item *ngIf="!signedUp" (click)="signup(eventDetail.id)">Register</button>
    <button ion-item *ngIf="signedUp" (click)="deRegister(eventDetail.id)">Deregister</button>

  </ion-list>

</ion-content>